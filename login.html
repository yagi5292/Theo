<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign in to GitHub Theo</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Google Button */
        .btn-google {
            background: #fff;
            color: #444;
            border: 1px solid #ddd;
            padding: 10px 0;
            border-radius: 4px;
            font-size: 16px;
            cursor: pointer;
            margin-bottom: 20px;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 500;
            box-shadow: 0 1px 2px rgba(60,64,67,.08), 0 1.5px 6px rgba(60,64,67,.08);
            transition: background 0.2s, box-shadow 0.2s;
        }
        .btn-google:hover {
            background: #f7f7f7;
            box-shadow: 0 2px 8px rgba(60,64,67,.13);
        }

        /* Divider */
        .divider {
            display: flex;
            align-items: center;
            text-align: center;
            margin: 24px 0 16px 0;
        }
        .divider span {
            color: #888;
            font-size: 14px;
            padding: 0 12px;
            background: #fff;
            position: relative;
            z-index: 1;
        }
        .divider:before,
        .divider:after {
            content: "";
            flex: 1;
            border-bottom: 1px solid #e0e0e0;
            margin: 0 4px;
            position: relative;
            top: 0.5em;
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <svg height="32" aria-hidden="true" viewBox="0 0 16 16" version="1.1" width="32" data-view-component="true">
                        <path d="M8 0C3.58 0 0 3.58 0 8C0 11.54 2.29 14.53 5.47 15.59C5.87 15.66 6.02 15.42 6.02 15.21C6.02 15.02 6.01 14.39 6.01 13.72C4 14.09 3.48 13.23 3.32 12.78C3.23 12.55 2.84 11.84 2.5 11.65C2.22 11.5 1.82 11.13 2.49 11.12C3.12 11.11 3.57 11.7 3.72 11.94C4.44 13.15 5.59 12.81 6.05 12.6C6.12 12.08 6.33 11.73 6.56 11.53C4.78 11.33 2.92 10.64 2.92 7.58C2.92 6.71 3.23 5.99 3.74 5.43C3.66 5.23 3.38 4.41 3.82 3.31C3.82 3.31 4.49 3.1 6.02 4.13C6.66 3.95 7.34 3.86 8.02 3.86C8.7 3.86 9.38 3.95 10.02 4.13C11.55 3.09 12.22 3.31 12.22 3.31C12.66 4.41 12.38 5.23 12.3 5.43C12.81 5.99 13.12 6.7 13.12 7.58C13.12 10.65 11.25 11.33 9.47 11.53C9.76 11.78 10.01 12.26 10.01 13.01C10.01 14.08 10 14.94 10 15.21C10 15.42 10.15 15.67 10.55 15.59C13.71 14.53 16 11.53 16 8C16 3.58 12.42 0 8 0Z"></path>
                    </svg>
                </div>
            </div>
        </div>
    </header>

    <main>
        <div class="form-container">
            <h2>Sign in to GitHub Theo</h2>

            <!-- Google Sign-In Button Start -->
            <button class="btn btn-google" type="button" id="googleOAuthBtn">
                <svg width="20" height="20" viewBox="0 0 48 48" style="vertical-align:middle;margin-right:12px;">
                    <g>
                        <path fill="#4285F4" d="M44.5 20H24v8.5h11.7C34.6 33.1 29.8 36 24 36c-6.6 0-12-5.4-12-12s5.4-12 12-12c3.1 0 5.9 1.1 8.1 2.9l6.4-6.4C34.5 5.1 29.5 3 24 3 12.9 3 4 11.9 4 23s8.9 20 20 20c11 0 19.7-8 19.7-20 0-1.3-.1-2.7-.2-4z"/>
                        <path fill="#34A853" d="M6.3 14.7l7 5.1C14.7 17.1 19 14 24 14c3.1 0 5.9 1.1 8.1 2.9l6.4-6.4C34.5 5.1 29.5 3 24 3c-7.2 0-13.4 4.1-16.7 10.1z"/>
                        <path fill="#FBBC05" d="M24 44c5.5 0 10.5-1.8 14.4-4.9l-6.7-5.5C29.7 35.5 27 36 24 36c-5.8 0-10.6-2.9-13.5-7.2l-7 5.4C6.6 40.1 14.1 44 24 44z"/>
                        <path fill="#EA4335" d="M44.5 20H24v8.5h11.7c-1.2 3.2-4.1 5.5-7.7 5.5-4.7 0-8.5-3.8-8.5-8.5s3.8-8.5 8.5-8.5c2.4 0 4.5.9 6.1 2.3l6.4-6.4C38.5 8.1 31.7 5 24 5c-9.9 0-18 8.1-18 18s8.1 18 18 18c8.7 0 16-6.3 17.7-14.5z"/>
                    </g>
                </svg>
                Continue with Google
            </button>
            <!-- Google Sign-In Button End -->

            <div class="divider">
                <span>or</span>
            </div>

            <form id="loginForm">
                <div class="form-group">
                    <label for="email">Email address</label>
                    <input type="email" id="email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" name="password" required>
                </div>
                <button type="submit" class="btn btn-primary form-submit">Sign in</button>
            </form>
            
            <div class="form-footer">
                <p>New to GitHub Clone? <a href="signup.html">Create an account</a>.</p>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-bottom">
                <p>&copy; 2023 GitHub Theo. This is a demo project for educational purposes.</p>
            </div>
        </div>
    </footer>

    <script src="auth.js"></script>
    <script src="script.js"></script>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <script>
const CLIENT_ID = '754492982678-s24523lfdkks0t23i48v3g0pg7d6djh0.apps.googleusercontent.com';
const REDIRECT_URI = window.location.origin + window.location.pathname;

document.addEventListener('DOMContentLoaded', function() {
    // If redirected back from Google with an access token, save it and go to dashboard
    if (window.location.hash.includes('access_token')) {
        const params = new URLSearchParams(window.location.hash.substring(1));
        const accessToken = params.get('access_token');
        if (accessToken) {
            localStorage.setItem('google_access_token', accessToken);
        }
        window.location.href = 'dashboard.html';
        return;
    }

    const btn = document.getElementById('googleOAuthBtn');
    if (btn) {
        btn.onclick = function() {
            const params = new URLSearchParams({
                client_id: CLIENT_ID,
                redirect_uri: REDIRECT_URI,
                response_type: 'token',
                scope: 'openid email profile',
                include_granted_scopes: 'true',
                state: 'login'
            });
            window.location.href = `https://accounts.google.com/o/oauth2/v2/auth?${params.toString()}`;
        };
    }
});
    </script>
</body>
</html>